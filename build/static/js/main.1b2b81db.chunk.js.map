{"version":3,"sources":["actions/viewerTypes.js","actions/viewerActions.js","reducers/viewerReducer.js","reducers/index.js","store.js","components/Client.js","components/Viewer/Viewer-helpers.js","components/Viewer/Viewer.js","components/Properties/Properties.js","components/Properties/index.js","components/Jumbotron/index.js","components/Jumbotron/Jumbotron.js","components/Footer/index.js","components/Footer/Footer.js","components/Gallery/Gallery.js","components/Gallery/index.js","components/App.js","index.js"],"names":["GET_AGGREGATE_PROPERTIES","getViewerProperties","properties","type","types","initialState","viewerReducer","state","action","store","createStore","reducers","viewer","explosionReq","rotationReq","getToken","accessToken","getaccesstoken","axios","get","then","response","data","catch","error","console","log","explodeScale","startExplosion","isExploding","outwardExplosion","startRotation","isRotating","tileId","loadDocument","documentId","Autodesk","Viewing","Document","load","doc","geometryItems","getSubItemsWithProperties","getRootItem","length","forEach","item","index","addEventListener","GEOMETRY_LOADED_EVENT","onGeometryLoaded","AGGREGATE_SELECTION_CHANGED_EVENT","debounce","Promise","resolve","reject","dbId","getSelection","getSelectionCount","model","getProperties","items","filter","property","hidden","list","map","displayCategory","uniq","category","modelProperties","dispatch","actions","getViewablePath","errorMsg","event","target","removeEventListener","fitToView","setQualityLevel","viewerResize","resize","toggleExplosion","cancelMotion","cancelAnimationFrame","explode","explodeMotion","timestamp","progress","explodeStep","window","requestAnimationFrame","rotateMotion","rotateStep","worldUp","navigation","getWorldUpVector","pos","getPosition","position","THREE","Vector3","x","y","z","rAxis","matrix","Matrix4","makeRotationAxis","applyMatrix4","setPosition","toggleRotation","Helpers","launchViewer","div","urn","id","token","options","access_token","viewerElement","document","getElementById","Viewer3D","Initializer","initialize","prefs","tag","Viewer","className","Component","Properties","props","collapsed","Map","propertyIndex","evt","preventDefault","isCollapsed","this","setPropertyByIndex","set","setState","prevProps","onClick","onClose","i","key","data-toggle","toggleProperty","bind","itemIndex","displayName","displayValue","connect","Jumbotron","handlePropertiesClose","fullscreen","expMotion","rotMotion","resetState","value","onFullscreen","onExplode","onExplodeAnimation","onRotateAnimation","onResetState","onOrientationChange","onPropertiesDisplay","handleValueChange","onSelectionChange","num","scrollTo","ease","duration","body","classList","add","remove","setTimeout","originalState","JSON","parse","restoreState","modelRestoreState","buttonClass","classnames","propertiesClass","explodeClass","explodeMotionClass","rotateMotionClass","resetClass","propertiesBtnClass","explodeBtnClass","explodeMotionBtnClass","rotateMotionBtnClass","resetBtnClass","src","alt","min","max","onChange","Footer","href","tilesData","img","title","Gallery","tile","e","onTileSelect","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.1b2b81db.chunk.js","sourcesContent":["export const GET_AGGREGATE_PROPERTIES = 'GET_AGGREGATE_PROPERTIES';","import * as types from './viewerTypes';\n\nexport function getViewerProperties(properties = []) {\n  //console.log('action', properties)\n  return {\n    type: types.GET_AGGREGATE_PROPERTIES,\n    properties,\n  }\n}\n","import { types } from '../actions';\n\nconst initialState = {\n  properties: []\n};\n\nexport default function viewer(state = initialState, action) {\n  switch(action.type) {\n    case types.GET_AGGREGATE_PROPERTIES:\n      const { properties } = action;\n      return {\n        ...state,\n        properties,\n      }\n    default:\n      return state;\n  }\n}\n","import viewerReducer from './viewerReducer';\nexport default viewerReducer;\n","import { createStore } from 'redux';\nimport reducers from './reducers';\n\nexport const store = createStore(reducers);\nexport default store;","/////////////////////////////////////////////////////////////////////////////////\n// Copyright (c) Autodesk, Inc. All rights reserved\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\n//\n// Permission to use, copy, modify, and distribute this software in\n// object code form for any purpose and without fee is hereby granted,\n// provided that the above copyright notice appears in all copies and\n// that both that copyright notice and the limited warranty and\n// restricted rights notice below appear in all supporting\n// documentation.\n//\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\n// UNINTERRUPTED OR ERROR FREE.\n/////////////////////////////////////////////////////////////////////////////////\n\nimport axios from 'axios';\n\nfunction getaccesstoken() {\n\treturn axios.get('/token')\n  \t.then(function (response) {\n  \t\treturn response.data;\n  \t})\n\t.catch(function (error) {\n   \t \tconsole.log(error);\n  \t});\n}\n\nconst Client = { getaccesstoken };\nexport default Client;","/////////////////////////////////////////////////////////////////////////////////\n// Copyright (c) Autodesk, Inc. All rights reserved\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\n//\n// Permission to use, copy, modify, and distribute this software in\n// object code form for any purpose and without fee is hereby granted,\n// provided that the above copyright notice appears in all copies and\n// that both that copyright notice and the limited warranty and\n// restricted rights notice below appear in all supporting\n// documentation.\n//\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\n// UNINTERRUPTED OR ERROR FREE.\n/////////////////////////////////////////////////////////////////////////////////\n\n\n/* global Autodesk, THREE */\nimport { debounce, uniq } from 'lodash';\nimport { actions } from '../../actions';\nimport { store } from '../../store';\n\nimport Client from '../Client';\nvar viewer;\nvar getToken = { accessToken: Client.getaccesstoken()};\nvar explodeScale = 0;\nvar startExplosion = null;\nvar explosionReq;\nvar isExploding = false;\nvar outwardExplosion = true;\nvar startRotation = null;\nvar rotationReq;\nvar isRotating = false;\nvar tileId = '';\nexport var properties = {};\n\n\n\nfunction launchViewer(div, urn, id) {\n  tileId = id;\n  getToken.accessToken.then((token) => {\n    var options = {\n      'document': urn,\n      'env': 'AutodeskProduction',\n      'accessToken': token.access_token\n      // 'refreshToken': getForgeToken\n    };\n\n    var viewerElement = document.getElementById(div);\n    viewer = new Autodesk.Viewing.Viewer3D(viewerElement, {});\n\n    Autodesk.Viewing.Initializer(\n      options,\n      function () {\n        viewer.initialize();\n        viewer.prefs.tag('ignore-producer')\n        loadDocument(options.document);\n      }\n    );\n  })\n}\n\nfunction loadDocument(documentId){\n  Autodesk.Viewing.Document.load(\n    documentId,\n    function (doc) { // onLoadCallback\n      var geometryItems = Autodesk.Viewing.Document.getSubItemsWithProperties(doc.getRootItem(), {'type':'geometry'}, true);\n      if (geometryItems.length > 0) {\n        geometryItems.forEach(function (item, index) {\n        });\n        viewer.addEventListener(Autodesk.Viewing.GEOMETRY_LOADED_EVENT, onGeometryLoaded);\n        viewer.addEventListener(Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT, debounce(() => {\n          console.log('selection change')\n          getModelProperties()\n            .then((modelProperties) =>\n              store.dispatch(actions.getViewerProperties(modelProperties))\n            )\n            .catch(() =>\n              store.dispatch(actions.getViewerProperties([]))\n            )\n        }), 200);\n\n        viewer.load(doc.getViewablePath(geometryItems[0])); // show 1st view on this document...\n      }\n    },\n    function (errorMsg) { // onErrorCallback\n      console.log(errorMsg);\n    }\n  )\n}\n\n\n//////////////////////////////////////////////////////////////////////////\n// Model Geometry loaded callback\n//\n//////////////////////////////////////////////////////////////////////////\nfunction onGeometryLoaded(event) {\n        var viewer = event.target;\n        viewer.removeEventListener(\n                Autodesk.Viewing.GEOMETRY_LOADED_EVENT,\n                onGeometryLoaded);\n        viewer.fitToView();\n        viewer.setQualityLevel(false,false); // Getting rid of Ambientshadows to false to avoid blackscreen problem in Viewer.\n    }\n\n\nfunction getModelProperties() {\n  return new Promise((resolve, reject) => {\n    const dbId = viewer.getSelection()[0];\n\n    if (viewer.getSelectionCount() !== 1) {\n      return reject('Invalid selection count');\n    }\n\n    return new Promise((resolve) => {\n      viewer.model.getProperties(dbId, (item) => {\n        const items = item.properties.filter((property) => !property.hidden);\n        resolve(items);\n      });\n    })\n    .then((list) => {\n\n      // Normalize displayCategory property in case it's falsy\n      list = list.map(item => ({\n        ...item,\n        displayCategory: item.displayCategory || 'Miscellaneous'\n      }));\n\n      // Unique list of categories\n      const categories = uniq(list.map(item => item.displayCategory));\n\n      // Model data to be consumed\n      // Ex: [ {category: 'Miscellaneous', data: []} ]\n      const properties = categories.map(category => (\n        {\n          category,\n          data: list.filter(item => item.displayCategory === category)\n        }\n      ));\n\n      resolve(properties);\n    });\n  });\n}\n\nexport function viewerResize() {\n  viewer.resize();\n}\n\nexport function viewerExplode(num){\n  viewer.explode(num);\n}\n\nexport function modelRestoreState(){\n  var originalState = \"\";\n\n  switch (tileId){\n    case \"0001\":\n      originalState = JSON.parse('{\"guid\":\"f075a989156eb711398\",\"seedURN\":\"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1RpZV9GaWd0aGVyX1RveS5mM2Q\",\"overrides\":{\"transformations\":[]},\"objectSet\":[{\"id\":[],\"isolated\":[],\"hidden\":[],\"explodeScale\":0,\"idType\":\"lmv\"}],\"viewport\":{\"name\":\"\",\"eye\":[145.8184640788883,93.51676504768685,-124.19785909734301],\"target\":[0,0,0.0000019073486328125],\"up\":[-0.3340034881841154,0.8986169812472194,0.28448056329910826],\"worldUpVector\":[0,1,0],\"pivotPoint\":[0,0,0.0000019073486328125],\"distanceToOrbit\":213.15139804714164,\"aspectRatio\":1.9929737351528332,\"projection\":\"perspective\",\"isOrthographic\":false,\"fieldOfView\":61.92751520437556},\"renderOptions\":{\"environment\":\"Rim Highlights\",\"ambientOcclusion\":{\"enabled\":false,\"radius\":10,\"intensity\":0.4},\"toneMap\":{\"method\":1,\"exposure\":-9,\"lightMultiplier\":-1e-20},\"appearance\":{\"ghostHidden\":true,\"ambientShadow\":false,\"antiAliasing\":true,\"progressiveDisplay\":true,\"displayLines\":true}},\"cutplanes\":[]}');\n      console.log(\"Restoring State for Tile:\", tileId);\n      break;\n    case \"0002\":\n      originalState = JSON.parse('{\"guid\":\"f075a989156eb711397\",\"seedURN\":\"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1JDJTIwQ2FyLmYzZA\",\"overrides\":{\"transformations\":[]},\"objectSet\":[{\"id\":[],\"isolated\":[],\"hidden\":[],\"explodeScale\":0,\"idType\":\"lmv\"}],\"viewport\":{\"name\":\"\",\"eye\":[268.15901156738664,268.1590007567955,268.15899179720685],\"target\":[0,-0.0000019073486328125,-0.00000762939453125],\"up\":[0,1,0],\"worldUpVector\":[0,1,0],\"pivotPoint\":[0,-0.0000019073486328125,-0.00000762939453125],\"distanceToOrbit\":464.4650203923889,\"aspectRatio\":1.9409698157397892,\"projection\":\"orthographic\",\"isOrthographic\":true,\"orthographicHeight\":464.46502039238896},\"renderOptions\":{\"environment\":\"Rim Highlights\",\"ambientOcclusion\":{\"enabled\":false,\"radius\":10,\"intensity\":0.4},\"toneMap\":{\"method\":1,\"exposure\":-9,\"lightMultiplier\":-1e-20},\"appearance\":{\"ghostHidden\":true,\"ambientShadow\":false,\"antiAliasing\":true,\"progressiveDisplay\":true,\"displayLines\":true}},\"cutplanes\":[]}');\n      console.log(\"Restoring State for Tile:\", tileId);\n      break;\n    case \"0003\":\n      originalState = JSON.parse('{\"guid\":\"f075a989156eb711399\",\"seedURN\":\"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1RWUi00LUN5Y2wtZW5naW5lLmYzZA\",\"overrides\":{\"transformations\":[]},\"objectSet\":[{\"id\":[],\"isolated\":[],\"hidden\":[],\"explodeScale\":0,\"idType\":\"lmv\"}],\"viewport\":{\"name\":\"\",\"eye\":[947.8717757705549,-947.8718237856292,947.8718169263327],\"target\":[0,0,0],\"up\":[0,1,0],\"worldUpVector\":[0,1,0],\"pivotPoint\":[0,0,0],\"distanceToOrbit\":1641.7621261779516,\"aspectRatio\":2.47171569916115,\"projection\":\"orthographic\",\"isOrthographic\":true,\"orthographicHeight\":1641.7621261779514},\"renderOptions\":{\"environment\":\"Rim Highlights\",\"ambientOcclusion\":{\"enabled\":false,\"radius\":10,\"intensity\":0.4},\"toneMap\":{\"method\":1,\"exposure\":-9,\"lightMultiplier\":-1e-20},\"appearance\":{\"ghostHidden\":true,\"ambientShadow\":false,\"antiAliasing\":true,\"progressiveDisplay\":true,\"displayLines\":true}},\"cutplanes\":[]}');\n      console.log(\"Restoring State for Tile:\", tileId);\n      break;\n    case \"0004\":\n      originalState = JSON.parse('{\"guid\":\"f075a989156eb711400\",\"seedURN\":\"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L0hvdXNlLmR3Zng\",\"overrides\":{\"transformations\":[]},\"objectSet\":[{\"id\":[],\"isolated\":[],\"hidden\":[],\"explodeScale\":0,\"idType\":\"lmv\"}],\"viewport\":{\"name\":\"\",\"eye\":[-163.8662266489145,0,101.51004011675508],\"target\":[0,0,0],\"up\":[0,1,0],\"worldUpVector\":[0,1,0],\"pivotPoint\":[0,0,0],\"distanceToOrbit\":192.76002822332916,\"aspectRatio\":2.0663910331477187,\"projection\":\"perspective\",\"isOrthographic\":false,\"fieldOfView\":46.48761986856245},\"renderOptions\":{\"environment\":\"Rim Highlights\",\"ambientOcclusion\":{\"enabled\":false,\"radius\":7.3109139716724485,\"intensity\":0.4},\"toneMap\":{\"method\":1,\"exposure\":-9,\"lightMultiplier\":-1e-20},\"appearance\":{\"ghostHidden\":true,\"ambientShadow\":false,\"antiAliasing\":true,\"progressiveDisplay\":true,\"displayLines\":true}},\"cutplanes\":[]}');\n      console.log(\"Restoring State for Tile:\", tileId);\n      break;\n    case \"0005\":\n      originalState = JSON.parse('{\"guid\":\"f075a989156eb711401\",\"seedURN\":\"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1VyYmFuJTIwSG91c2UlMjAtJTIwMjAxNS5ydnQ\",\"overrides\":{\"transformations\":[]},\"objectSet\":[{\"id\":[],\"isolated\":[],\"hidden\":[],\"explodeScale\":0,\"idType\":\"lmv\"}],\"viewport\":{\"name\":\"\",\"eye\":[71.29038959242611,-71.98501662992042,67.07221817123673],\"target\":[0,0,-0.0000019073486328125],\"up\":[0,0,1],\"worldUpVector\":[0,0,1],\"pivotPoint\":[0,0,-0.0000019073486328125],\"distanceToOrbit\":121.50244842685274,\"aspectRatio\":0.4481514231771144,\"projection\":\"orthographic\",\"isOrthographic\":true,\"orthographicHeight\":121.50244842685272},\"renderOptions\":{\"environment\":\"Rim Highlights\",\"ambientOcclusion\":{\"enabled\":false,\"radius\":5.211787184833593,\"intensity\":0.4},\"toneMap\":{\"method\":1,\"exposure\":-9,\"lightMultiplier\":-1e-20},\"appearance\":{\"ghostHidden\":true,\"ambientShadow\":false,\"antiAliasing\":true,\"progressiveDisplay\":true,\"displayLines\":true}},\"cutplanes\":[]}');\n      console.log(\"Restoring State for Tile:\", tileId);\n      break;\n    case \"0006\":\n      originalState = JSON.parse('{\"guid\":\"f075a989156eb711402\",\"seedURN\":\"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0LzNkRmFjdG9yeS5kd2Y\",\"overrides\":{\"transformations\":[]},\"objectSet\":[{\"id\":[],\"isolated\":[],\"hidden\":[],\"explodeScale\":0,\"idType\":\"lmv\"}],\"viewport\":{\"name\":\"\",\"eye\":[74.02664223103163,-62.794491882241786,57.115458464302066],\"target\":[0,-9.5367431640625e-7,-2.384185791015625e-7],\"up\":[0,0,1],\"worldUpVector\":[0,0,1],\"pivotPoint\":[0,-9.5367431640625e-7,-2.384185791015625e-7],\"distanceToOrbit\":112.62889271319895,\"aspectRatio\":1.8124895442487394,\"projection\":\"perspective\",\"isOrthographic\":false,\"fieldOfView\":28.656461643949527},\"renderOptions\":{\"environment\":\"Rim Highlights\",\"ambientOcclusion\":{\"enabled\":false,\"radius\":2.7574370487702686,\"intensity\":0.4},\"toneMap\":{\"method\":1,\"exposure\":-9,\"lightMultiplier\":-1e-20},\"appearance\":{\"ghostHidden\":true,\"ambientShadow\":false,\"antiAliasing\":true,\"progressiveDisplay\":true,\"displayLines\":true}},\"cutplanes\":[]}');\n      console.log(\"Restoring State for Tile:\", tileId);\n      break;\n    default:\n      console.log(\"Sorry, no model selected\");\n  }\n\n\nviewer.restoreState(originalState, false, false);\n}\n\n /**\n     * toggle explosion motion\n     * @param  boolean cancelMotion - true if cancel motion is requested\n     */\nexport function toggleExplosion(cancelMotion) {\n      if (cancelMotion || isExploding) {\n        cancelAnimationFrame(explosionReq);\n        isExploding = false;\n        if (cancelMotion) {\n          explodeScale = 0;\n          viewer.explode(explodeScale);\n        }\n      } else {\n        explodeMotion();\n        isExploding = true;\n      }\n    }\n\n/**\n  * Recursive function for calling requestAnimationFrame for explode motion\n*/\n\nexport function explodeMotion(timestamp) {\n      if (!startExplosion) {\n        startExplosion = timestamp;\n      }\n      var progress = timestamp - startExplosion;\n      startExplosion = timestamp;\n      var explodeStep = 0.0002 * (progress || 0);\n      // explode outward and inward\n      if (outwardExplosion) {\n        explodeScale += explodeStep;\n      } else {\n        explodeScale -= explodeStep;\n      }\n      if (explodeScale > 1) {\n        outwardExplosion = false;\n        explodeScale = 1; // this solves when user go to another browser tab\n      } else if (explodeScale < 0) {\n        outwardExplosion = true;\n        explodeScale = 0; // this solves when user go to another browser tab\n      }\n      viewer.explode(explodeScale);\n      explosionReq = window.requestAnimationFrame(explodeMotion);\n    };\n\n /**\n     * recursive function for rotation motion each time page refreshes\n     */\nexport function rotateMotion(timestamp) {\n      if (!startRotation) {\n        startRotation = timestamp;\n      }\n      var progress = timestamp - startRotation;\n      startRotation = timestamp;\n      var rotateStep = 0.0005 * (progress || 0);\n      // get the up axis\n      var worldUp = viewer.navigation.getWorldUpVector();\n      // get the current position\n      var pos = viewer.navigation.getPosition();\n      // copy that position\n      var position = new THREE.Vector3(pos.x, pos.y, pos.z);\n      // set the rotate axis\n      var rAxis = new THREE.Vector3(worldUp.x, worldUp.y, worldUp.z);\n      var matrix = new THREE.Matrix4().makeRotationAxis(rAxis, rotateStep);\n      //apply the new position\n      position.applyMatrix4(matrix);\n      viewer.navigation.setPosition(position);\n      rotationReq = window.requestAnimationFrame(rotateMotion);\n    }\n\n\n     /**\n     * Toggle the rotation movement\n     * @param  boolean cancelMotion true if motion is to be cancelled\n     */\nexport function toggleRotation(cancelMotion) {\n      if (cancelMotion || isRotating) {\n        cancelAnimationFrame(rotationReq);\n        isRotating = false;\n      } else {\n        rotateMotion();\n        isRotating = true;\n      }\n    }\n\n export function stopMotion() {\n      toggleExplosion(true);\n      toggleRotation(true);\n    }\n\n\nconst Helpers = {\n  launchViewer,\n  loadDocument\n};\n\nexport default Helpers;\n","/////////////////////////////////////////////////////////////////////////////////\n// Copyright (c) Autodesk, Inc. All rights reserved\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\n//\n// Permission to use, copy, modify, and distribute this software in\n// object code form for any purpose and without fee is hereby granted,\n// provided that the above copyright notice appears in all copies and\n// that both that copyright notice and the limited warranty and\n// restricted rights notice below appear in all supporting\n// documentation.\n//\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\n// UNINTERRUPTED OR ERROR FREE.\n/////////////////////////////////////////////////////////////////////////////////\n\nimport React, { Component } from 'react';\nimport Helpers from './Viewer-helpers';\n\nclass Viewer extends Component {\n\n    componentDidMount() {\n        // RC Car Model\n        var documentId = 'urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1JDJTIwQ2FyLmYzZA';\n        Helpers.launchViewer('viewerDiv', documentId , '0002');        \n    }\n\n\trender() {\n        return (\n            <div className='forge-viewer' id=\"viewerDiv\" />\n        );\n\t}\n}\n\nexport default Viewer;\n","/////////////////////////////////////////////////////////////////////////////////\n// Copyright (c) Autodesk, Inc. All rights reserved\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\n//\n// Permission to use, copy, modify, and distribute this software in\n// object code form for any purpose and without fee is hereby granted,\n// provided that the above copyright notice appears in all copies and\n// that both that copyright notice and the limited warranty and\n// restricted rights notice below appear in all supporting\n// documentation.\n//\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\n// UNINTERRUPTED OR ERROR FREE.\n/////////////////////////////////////////////////////////////////////////////////\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport './properties.css';\n\nclass Properties extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      collapsed: new Map()\n    }\n    \n  }\n\n  toggleProperty(propertyIndex, evt) {\n    evt.preventDefault();\n    const { collapsed } = this.state;\n    const isCollapsed = collapsed.get(propertyIndex);\n\n    this.setPropertyByIndex(propertyIndex, !isCollapsed);\n  }\n\n  setPropertyByIndex(index, isCollapsed) {\n    const { collapsed } = this.state;\n    collapsed.set(index, true);\n    this.setState({ collapsed });\n  }\n\n  componentDidMount() {\n    if (this.props.properties.length === 1) {\n      this.setPropertyByIndex(0, true);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const { properties } = this.props\n    \n\n    if (prevProps.properties === properties) {\n      return\n    }\n\n    if (properties.length === 1) {\n      this.setPropertyByIndex(0, true);\n    }\n  }\n\n\n\trender() {\n    const {collapsed} = this.state;\n\n\t\treturn(\n    <div className=\"model-properties\">\n      <div>\n        <button className=\"close-btn\" onClick={this.props.onClose}><i className=\"fa fa-close\" /></button>\n        <h3>Properties</h3>\n\n        {!this.props.properties.length\n          ? <p><em>Select a part to get started</em></p>\n          : null\n        }\n        <div>\n          <div>\n            {this.props.properties.map((property, i) => (\n             <ul key={i}>\n             <div >\n                <h4 >\n                  <a data-toggle=\"collapse\" onClick={this.toggleProperty.bind(this, i)}>{property.category}</a>\n                </h4>\n              </div>     \n                {\n                  collapsed.get(i)\n                    ? (\n                      <div>\n                        <ul>\n                            {property.data.map((item, itemIndex) => (\n                              <li key={itemIndex} >\n                                <strong>{item.displayName}:</strong> {item.displayValue}\n                              </li>\n                            ))}\n                        </ul>\n                      </div>\n                      )\n                    : null\n                }              \n            </ul>\n          ))}     \n            \n          </div>\n        </div>\n        </div>\n      </div>\n\t\t)\n\t}\n}\n\n\nconst PropertiesComponent = connect(\n  state => ({ properties: state.properties })\n)(Properties);\n\nexport default PropertiesComponent;\n","import Properties from './Properties';\n\nexport default Properties;\n","import Jumbotron from './Jumbotron';\n\nexport default Jumbotron;\n","/////////////////////////////////////////////////////////////////////////////////\n// Copyright (c) Autodesk, Inc. All rights reserved\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\n//\n// Permission to use, copy, modify, and distribute this software in\n// object code form for any purpose and without fee is hereby granted,\n// provided that the above copyright notice appears in all copies and\n// that both that copyright notice and the limited warranty and\n// restricted rights notice below appear in all supporting\n// documentation.\n//\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\n// UNINTERRUPTED OR ERROR FREE.\n/////////////////////////////////////////////////////////////////////////////////\n\nimport React, { Component } from 'react';\nimport './jumbotron.css';\nimport Viewer from '../Viewer/Viewer';\nimport classnames from 'classnames';\nimport scrollTo from 'scroll-to';\nimport Properties from '../Properties'\nimport {\n  viewerResize,\n  viewerExplode,\n  toggleExplosion,\n  toggleRotation,\n  stopMotion,\n  modelRestoreState,\n} from '../Viewer/Viewer-helpers';\n\nclass Jumbotron extends Component {\n\n  constructor() {\n    super();\n\n    this.state = {\n      fullscreen: false,\n      explode: false,\n      expMotion: false,\n      rotMotion: false,\n      resetState: false,\n      properties: false,\n      value: 0\n    }\n\n    this.onFullscreen = this.onFullscreen.bind(this);\n    this.onExplode = this.onExplode.bind(this);\n    this.onExplodeAnimation = this.onExplodeAnimation.bind(this);\n    this.onRotateAnimation = this.onRotateAnimation.bind(this);\n    this.onResetState = this.onResetState.bind(this);\n    this.onOrientationChange = this.onOrientationChange.bind(this);\n    this.onPropertiesDisplay = this.onPropertiesDisplay.bind(this);\n    this.handleValueChange = this.handleValueChange.bind(this);\n    this.onSelectionChange = this.onSelectionChange.bind(this);\n  }\n\n  componentDidMount() {\n    window.addEventListener('orientationchange', this.onOrientationChange);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('orientationchange', this.onOrientationChange);\n  }\n\n  handleValueChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n    viewerExplode(this.state.value/100);\n\n  }\n\n  onFullscreen() {\n    this.setState({ fullscreen: !this.state.fullscreen }, () => {\n\n      if (this.state.fullscreen) {\n        scrollTo(0, 0, {\n          ease: 'inQuad',\n          duration: 300\n        });\n        document.body.classList.add('fullscreen')\n      } else {\n        document.body.classList.remove('fullscreen');\n        this.onResetState();\n        if (this.state.explode){\n          document.body.classList.remove('explode');\n        }\n\n        this.setState({\n          fullscreen: false,\n          explode: false,\n          expMotion: false,\n          rotMotion: false,\n          resetState: false,\n          properties: false,\n          value: 0\n        })\n      }\n\n      // resize viewer after css animation\n      setTimeout(() => viewerResize(), 300);\n    });\n  }\n\n  onPropertiesDisplay(){\n    this.setState({ properties: !this.state.properties }, () => {\n      if (this.state.properties) {\n        document.body.classList.add('properties-show');\n      } else {\n        document.body.classList.remove('properties-show');\n      }\n    });\n  }\n\n  onExplode(){\n    this.setState({ explode: !this.state.explode }, () => {\n      if (this.state.explode) {\n        document.body.classList.add('explode')\n      } else {\n        document.body.classList.remove('explode');\n      }\n    });\n  }\n\n  onOrientationChange() {\n    setTimeout(() => viewerResize(), 300);\n  }\n\n  onExplodeAnimation() {\n    this.setState({ expMotion: !this.state.expMotion}, () => {\n      if (this.state.expMotion) {\n        document.body.classList.add('explode-motion')\n        toggleExplosion();\n      } else {\n        document.body.classList.remove('explode-motion');\n        toggleExplosion();\n      }\n    });\n  }\n\n  onRotateAnimation() {\n    this.setState({ rotMotion: !this.state.rotMotion }, () => {\n      if (this.state.rotMotion) {\n        document.body.classList.add('rotate-motion')\n        toggleRotation();\n      } else {\n        document.body.classList.remove('rotate-motion');\n        toggleRotation();\n      }\n    });\n  }\n\n  onResetState() {\n    document.body.classList.remove('explode', 'explode-motion', 'rotate-motion');\n    this.setState({explode: false, expMotion: false, rotMotion: false});\n    stopMotion();\n    modelRestoreState();\n  }\n\n  onSelectionChange() {\n    if (!this.state.properties) {\n      return;\n    }\n\n    // this.setState({\n    //\n    // })\n  }\n\n  handlePropertiesClose = () => {\n    this.setState({ properties: false })\n  }\n\n  render() {\n\n    const buttonClass = classnames({\n      'fa': true,\n      'fa-expand': !this.state.fullscreen,\n      'fa-compress': this.state.fullscreen,\n    });\n\n    const propertiesClass = classnames({\n      'fa': true,\n      'fa-list': this.state.fullscreen,\n    });\n\n    const explodeClass = classnames({\n      'fa': true,\n      'fa-cubes': this.state.fullscreen,\n    });\n\n    const explodeMotionClass = classnames({\n      'fa': true,\n      'fa-bomb': this.state.fullscreen,\n    });\n\n    const rotateMotionClass = classnames({\n      'fa': true,\n      'fa-repeat': this.state.fullscreen,\n    });\n\n    const resetClass = classnames({\n      'fa': true,\n      'fa-refresh': this.state.fullscreen,\n    });\n\n    const propertiesBtnClass = classnames({\n      'properties-btn': true,\n      'btn--active': this.state.properties,\n      'btn--deactive': !this.state.properties\n    })\n\n    const explodeBtnClass = classnames({\n      'explode-btn': true,\n      'btn--active': this.state.explode,\n      'btn--deactive': !this.state.explode\n    })\n\n    const explodeMotionBtnClass = classnames({\n      'explode-motion-btn': true,\n      'expbtn--active': this.state.expMotion,\n      'expbtn--deactive': !this.state.expMotion\n    })\n\n    const rotateMotionBtnClass = classnames({\n      'rotate-motion-btn': true,\n      'rotbtn--active': this.state.rotMotion,\n      'rotbtn--deactive': !this.state.rotMotion\n    })\n\n    const resetBtnClass = classnames({\n      'reset-btn': true,\n      'resetbtn--deactive': !this.state.rotMotion\n    })\n\n    return (\n      <div className=\"forge-jumbotron\">\n        <Viewer />\n        <div className=\"forge-logo\">\n            <img src=\"images/forge-logo.png\" alt=\"Autodesk Forge\" />\n        </div>\n        <div className=\"container safari-only\">\n          <button className=\"forge-btn\" onClick={this.onFullscreen}>\n            <i className={buttonClass}></i>\n          </button>\n          <button className={propertiesBtnClass} onClick={this.onPropertiesDisplay} >\n            <i className={propertiesClass}></i>\n          </button>\n          <button className={explodeBtnClass} onClick={this.onExplode} >\n            <i className={explodeClass}></i>\n          </button>\n          <button className={explodeMotionBtnClass} onClick={this.onExplodeAnimation} >\n            <i className={explodeMotionClass}></i>\n          </button>\n          <button className={rotateMotionBtnClass} onClick={this.onRotateAnimation} >\n            <i className={rotateMotionClass}></i>\n          </button>\n          <button className={resetBtnClass} onClick={this.onResetState} >\n            <i className={resetClass}></i>\n          </button>\n\n          {\n            this.state.properties\n             ? <Properties onClose={this.handlePropertiesClose} />\n             : null\n          }\n\n          <input type=\"range\"\n              className=\"range-style\"\n              min=\"0\"\n              max=\"100\"\n              value={this.state.value}\n              onChange={this.handleValueChange}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Jumbotron;\n","import Footer from './Footer';\n\nexport default Footer;\n","/////////////////////////////////////////////////////////////////////////////////\n// Copyright (c) Autodesk, Inc. All rights reserved\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\n//\n// Permission to use, copy, modify, and distribute this software in\n// object code form for any purpose and without fee is hereby granted,\n// provided that the above copyright notice appears in all copies and\n// that both that copyright notice and the limited warranty and\n// restricted rights notice below appear in all supporting\n// documentation.\n//\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\n// UNINTERRUPTED OR ERROR FREE.\n/////////////////////////////////////////////////////////////////////////////////\n\nimport React, { Component } from 'react';\nimport './footer.css';\n\nclass Footer extends Component {\n   render() {\n    return (\n      <div className=\"forge-footer\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-xs-6\">\n             <a href=\"https://github.com/jaimerosales/viewer-react-express-headless\">View on GitHub <i className=\"fa fa-github\"></i></a>\n            </div>\n            <div className=\"col-xs-6 footer-copyright\">\n              &#169; 2016 Copyright Autodesk. All rights reserved.\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Footer;\n","/////////////////////////////////////////////////////////////////////////////////\n// Copyright (c) Autodesk, Inc. All rights reserved\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\n//\n// Permission to use, copy, modify, and distribute this software in\n// object code form for any purpose and without fee is hereby granted,\n// provided that the above copyright notice appears in all copies and\n// that both that copyright notice and the limited warranty and\n// restricted rights notice below appear in all supporting\n// documentation.\n//\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\n// UNINTERRUPTED OR ERROR FREE.\n/////////////////////////////////////////////////////////////////////////////////\n\n// Models\n\n//Steampunk : dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1NwTTNXNy5mM2Q\n\nimport React, { Component } from 'react';\nimport scrollTo from 'scroll-to';\nimport Helpers from '../Viewer/Viewer-helpers';\nimport './gallery.css';\n\n\nconst tilesData = [\n  {\n    img: 'images/tie-fighter.png',\n    title: 'Fusion Tie Fighter',\n    key: '0001',\n    urn:'urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1RpZV9GaWd0aGVyX1RveS5mM2Q'\n  },\n  {\n    img: 'images/fusion-rcar.png',\n    title: 'Fusion Race Car',\n    key: '0002',\n    urn: 'urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1JDJTIwQ2FyLmYzZA'\n  },\n  {\n    img: 'images/fusion-engine.png',\n    title: 'Fusion Engine',\n    key: '0003',\n    urn: 'urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1RWUi00LUN5Y2wtZW5naW5lLmYzZA'\n  },\n\n  {\n    img: 'images/revit-house.png',\n    title: 'Revit House',\n    key: '0004',\n    urn: 'urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L0hvdXNlLmR3Zng'\n\n  },\n  {\n    img: 'images/urban-house.png',\n    title: 'Revit Urban House',\n    key: '0005',\n    urn: 'urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1VyYmFuJTIwSG91c2UlMjAtJTIwMjAxNS5ydnQ'\n  },\n  {\n    img: 'images/revit-factory.png',\n    title: 'Revit Factory',\n    key: '0006',\n    urn: 'urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0LzNkRmFjdG9yeS5kd2Y'\n  },\n];\n\n\nclass Gallery extends Component {\n\n  onTileSelect(tile, e) {\n    e.preventDefault();\n\n    // Scroll to top\n    scrollTo(0, 0, {\n      ease: 'inQuad',\n      duration: 300\n    });\n\n    // Starts loading once it scrolls\n    setTimeout(\n      () => Helpers.launchViewer(\"viewerDiv\", tile.urn, tile.key),\n      300\n    );\n  }\n\n   render() {\n    return (\n      <div className=\"forge-gallery\">\n        <div className=\"container\">\n          <div className=\"row\">\n            {tilesData.map((tile, index) =>\n              (\n                <div className=\"col-md-4 col-xs-6 tile\" key={index}>\n                  <a href=\"#\" onClick={this.onTileSelect.bind(this, tile)}>\n                    <img className=\"tile-avatar\" src={tile.img} alt={tile.title} />\n                  </a>\n                  <div className=\"tile-title\">{tile.title}</div>\n                </div>\n              )\n            )}\n          </div>\n        </div>\n      </div>\n    )\n\t}\n}\n\nexport default Gallery;\n","import Gallery from './Gallery';\n\nexport default Gallery;\n","/////////////////////////////////////////////////////////////////////////////////\n// Copyright (c) Autodesk, Inc. All rights reserved\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\n//\n// Permission to use, copy, modify, and distribute this software in\n// object code form for any purpose and without fee is hereby granted,\n// provided that the above copyright notice appears in all copies and\n// that both that copyright notice and the limited warranty and\n// restricted rights notice below appear in all supporting\n// documentation.\n//\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\n// UNINTERRUPTED OR ERROR FREE.\n/////////////////////////////////////////////////////////////////////////////////\n\nimport React, { Component } from 'react';\nimport Jumbotron from './Jumbotron';\nimport Footer from './Footer';\nimport Gallery from './Gallery';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './App.css';\nimport 'font-awesome/css/font-awesome.css';\n\nclass App extends Component {\n  render() {\n    return (\n      <div>\n        <Jumbotron />\n\n        <Gallery />\n\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","/////////////////////////////////////////////////////////////////////////////////\n// Copyright (c) Autodesk, Inc. All rights reserved\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\n//\n// Permission to use, copy, modify, and distribute this software in\n// object code form for any purpose and without fee is hereby granted,\n// provided that the above copyright notice appears in all copies and\n// that both that copyright notice and the limited warranty and\n// restricted rights notice below appear in all supporting\n// documentation.\n//\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\n// UNINTERRUPTED OR ERROR FREE.\n/////////////////////////////////////////////////////////////////////////////////\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport { Provider } from 'react-redux';\nimport store from './store';\n\nReactDOM.render(\n  (\n    <Provider store={store}>\n      <App />\n    </Provider>\n  ),\n  document.getElementById('root')\n);\n"],"sourceRoot":""}